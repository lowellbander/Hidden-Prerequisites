\documentclass[10pt]{siamltex}
% siamltex     final
\usepackage{amsmath,amssymb,epsfig}
%\usepackage[]{graphicx,epsf,epsfig,amsmath,amssymb,amsfonts,latexsym,amsthm}
% \usepackage{bbm}
%\usepackage{amsfonts}
%\usepackage{amsthm}
%% \usepackage[a4paper]{geometry}
%% \geometry{top=0.99in, bottom=0.995in, left=0.995in, right=0.995in}
% \usepackage[top=20mm, bottom=18mm, left=15mm, right=18mm]{geometry}
\usepackage[top=18mm, bottom=18mm, left=20mm, right=20mm]{geometry}

\usepackage{hyperref}

% \graphicspath{{/Users/Mihai/Google Drive/MATLAB/Ranking_Sync/PLOTS/}}
% D:/LATEX/Reports@IIT/figures/
\usepackage{graphicx}
\usepackage[space]{grffile}

\newcommand{\mb}[1]{\mbox{\boldmath$#1$}}

\usepackage{lineno}
\pagewiselinenumbers

\usepackage{subfigure}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{comment}
\usepackage{array}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{url}
% \usepackage{color}

% \usepackage[toc,page]{appendix}

%\usepackage[outer]{showlabels,rotating}
%\renewcommand{\showlabelsetlabel}[1]
%{\begin{turn}{0}\showlabelfont #1\end{turn}}
%\showlabels{cite}
%\showlabels{ref}
%\showlabels{foo}
%\renewcommand{\showlabelfont}{\small}

\usepackage{setspace}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{color}
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{hyperref}
%\def\Acronimo{ANALYSISOFNETWORKS}
% number the lines

\newcommand{\myreferences}{../../../Postdocs_laptop/postdoc_bib_file}
% \newcommand{\myreferences}{/Users/Mihai/test_bib_file}

\usepackage{lineno}
% \pagewiselinenumbers
%\setlength\linenumbersep{8pt}

% ANALYSISOFNETWORKS
% AALGN
\hypersetup{
%    pdftitle={\Acronimo{}, FP7-PEOPLE-IIF-2012},    % title
%    pdfauthor={Some Author},
    colorlinks=true,
    citecolor=red,
    linkcolor=blue,
    urlcolor=blue
  }

%
%\newtheorem{theorem}{Theorem}[section]
%\newtheorem{conjecture}[theorem]{Conjecture}
%\newtheorem{corollary}[theorem]{Corollary}
%\newtheorem{proposition}[theorem]{Proposition}
%\newtheorem{lemma}[theorem]{Lemma}
%\newdef{definition}[theorem]{Definition}
%\newdef{remark}[theorem]{Remark}
\newcounter{ale}
\newcommand{\abc}{\item[\alph{ale})]\stepcounter{ale}}
\newenvironment{liste}{\begin{itemize}}{\end{itemize}}
\newcommand{\aliste}{\begin{liste} \setcounter{ale}{1}}
\newcommand{\zliste}{\end{liste}}
\newenvironment{abcliste}{\aliste}{\zliste}

% \usepackage[english]{datetime}

\def\P(#1){\Phelper#1|\relax\Pchoice(#1)}
\def\Phelper#1|#2\relax{\ifx\relax#2\relax\def\Pchoice{\Pone}\else\def\Pchoice{\Ptwo}\fi}
\def\Pone(#1){\Pr\left( #1 \right)}
\def\Ptwo(#1|#2){\Pr\left( #1 \mid #2 \right)}
\def\Pr{\mathbf{Pr}}

\begin{document}

\begin{pagewiselinenumbers}
\title{MATH 191 - Topics in Data Science\\ Discovering Hidden Prerequisites}
\author{Paul~Jazayeri \footnotemark[1], Anumat~Srivastava \footnotemark[2], Lowell~Bander \footnotemark[1]  }
\maketitle
%\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\footnotetext[1]{Department of Mathematics, UCLA, 520 Portola Plaza, Mathematical Sciences Building 6363, Los Angeles, CA 90095-1555, email: xyz@ucla.edu}
\footnotetext[2]{Second Department, UCLA, 520 Portola Plaza, Mathematical Sciences Building 6363, Los Angeles, CA 90095-1555}
%\renewcommand{\thefootnote}{\arabic{footnote}}

\begin{center}
\today
\end{center}

% We propose novel approach to the
\vspace{5mm}

\begin{abstract}
%Abstract goes here. Provide 10-15 lines with a summary of your work.
We sought to use historical student data to discover/validate the prerequisite choices of the Mathematics and Computer Science at the University of California, Los Angeles (UCLA). Specifically, we used the Serial Rank, Rank Centrality, and Least Squares ranking algorithms to construct total orderings of courses so as to optimize graduating grade-point average (GPA). We also used intermediate calculations from the above ranking algorithms to construct a directed acyclic graph (DAG) to illustrate the notion of courses being prerequisites for other courses.
\end{abstract}

\begin{keywords} %A few keyword that best describe your work. For example:  network centrality, spectral algorithms, gravity models, vertex similarity, core periphery structure, directed graphs, local-to-global algorithms, multiple network alignment, clustering bipartite graphs, angular synchronization
serial rank, rank centrality, prerequisites, least squares
\end{keywords}

\section{Introduction}

This is the Introduction.

\vspace{10mm}  % add white space whenever needed

This is how you cite a reference paper  \cite{corePerOxford} or multiple ones  \cite{corePerOxford,puckmason}.

\begin{figure}[h]
\begin{center}
%\includegraphics[width=0.46\columnwidth]{Directed_Core_Per}
\end{center}
\caption{This is how you add a plot to a Figure. It is always a good idea to add such a caption to each Figure, and explain what the figure is about. Also, if your plot has x and y axis, please always label your graphs (within MATLAB) so that your plots/results can be easily read and understood.}
\label{fig:DirCorPer}
\end{figure}

This is how you cite a (labeled) section: In Section \ref{sec:relWork}, we describe the related work considered in \cite{puckmason}.
%%
In Section \ref{sec:ourWork} we ... 
In Section  \ref{sec:NumExpSyn} we test the above algorithms on synthetically generated data sets, while in Section \ref{sec:NumExpReal} we do so for a real data set. Finally, in Section  \ref{sec:conclusion} we conclude with a summary of our results, and discuss future possible research direction. 

\section{Related work} \label{sec:relWork}

\textbf{Questions/Comments/Things that could be done}
\begin{itemize}
\item What is a good notion of core-periphery structure in directed networks? Would the null model shown in Figure \ref{fig:DirCorPer} be a good model?
\item Can one build on or expand some of the above methods and apply them to directed networks? 
\item As a starting point, perhaps apply simulated annealing to the objective function induced by the above null model
\item Apply this to a real network, a good such example might be the migration network between counties in the United States, which we have seen in class in the past.
\item This is how you add an url link 
 \begin{center}
   \url{http://people.maths.ox.ac.uk/porterm/papers/prestige_final.pdf} 
\end{center}   
\end{itemize}

\section{Our work}    \label{sec:ourWork}
%Describe the bulk of your work in this section.
Our first steps in this endeavor involved acquisition of the data requisite to perform out analysis. Specifically, we sought to obtain, for several students, in both the Mathematics (Math) and Computer Science (CS) departments, over many years: (1) the order in which each student took their courses, and (2) their graduating GPA for the relevant department, either Math or CS.\\

Our professor for this course, Mihai Cucuringu, had previously obtained the requisite dataset from the Math department and was kind enough to share this with us. Unfortunately, we were not successful in obtaining the corresponding dataset for the CS department before the due date of this project. This is not for lack of effort, for we approached members of the Registrar's office, the current and a former chair of the CS department, as well as the Office of Academic and Student Affairs for the School of Engineering and Applied Science (OASA SEAS).\\

As mentioned in the abstract of our paper, we sought to implement various ranking algorithms to determine total orderings of courses as a method of validating existing prerequisites and potentially discovering hidden ones, courses that ought to be prerequisites but are not currently. Moreover, we sought to visualize the prerequisite relationship among courses by construction of a directed acyclic graph (DAG), wherein children nodes have parents as their prerequisites, and wherein the edge weights between nodes represents the confidence with which our data supports one course being a prerequisite for another course. \\

As we began implementation of the Serial Rank algorithm we noted that an intermediate computation of the algorithm would prove very useful in the construction of the DAG described above. Namely, both share the need for a matrix $C$ containing pairwise comparisons, such that $C\in \{-1,0,1\}^{n\times n}$, where $n$ is the number of courses a student takes. The elements of $C$ are determined as follows:

\begin{equation}
C_{ij} = \left\{
	\begin{array}{rl}
 1 & \text{ if course $i$ is taken before course $j$, (or $i=j$)} 	\\
 &  \\
 0 & \text{ if $i$ and $j$ are tied, or the comparison is unavailable }	\\
 &  \\
 -1 & \text{ if course $j$ is taken before course $i$} 
     \end{array}
   \right.
\label{comparisonMatrix}
\end{equation}


% todo: 
% * complete explanation of serial rank, as it pertains to our project
% * necessity of increasing minimum courses to make believable rank
% * finding a common subset for difference matrix, explain algorithm, perhaps code snippet
% * lack of confidence given how few students over such a large time span end up being in our data set
% * how the above results in a lot of noise, such that analyzing the comparison matrix wasn't illuminating.
% * kendall tau distance, perhaps with incrementing GPA successively by 0.1
% * compare our kendal distance algorithm to the inbuilt one

\subsection{Rank Centrality}

Objective: Implement and use the Rank Centrality algorithm on our dataset to compute another ranking for course orderings taken by students in different GPA ranges. 

The Rank Centrality algorithm takes in as input a graph $G([n],E,A)$ and outputs a stationary distribution $\{\pi(i)\}_{i\in [n]}$ assigning numerical scores to each node.

To do this, we must first compute a matrix $a_{ij}$ where each $ij^{th}$ entry represents the number of times the $j^{th}$ element is preferred to the $i^{th}$ element. In our case this is the number of students who have taken class j before class i. We then create a new normalized matrix $A_{ij} = \frac{a_{ij}}{a_{ij} + a_{ji}}$. If there is no comparison, we set $A_{ij} = 0$. We use $A_{ij}$ to create a Probability matrix $P$ representing the time-dependent likely-hood of a random walk from i to j.
$$P_{ij} =  \P (x_{t+1}=j|x_{j}=i))$$

To calculate $P_{ij}$ using the $A$ matrix, we set $d_{max} =\text{maximum out degree of a node}$ and use $d_{max}$ to ensure that the $\sum_{i,j}P_{ij} = 1$.
\begin{equation}
P_{ij} = \left\{
	\begin{array}{rl}
\frac{A_{ij}}{d_{max}}  & \text{ if }i\neq j 	\\
 &  \\
 1 - \frac{1}{d_{max}}(\sum_{k\neq i}A_{ij})  & \text{ if }i = j 
     \end{array}
   \right.
\label{probabilityMatrix}
\end{equation}

We then start with an arbitrary initial assignment $p_{0}$ of elements (classes in our case) to scores and apply recursively apply $P$ to the assignment until the assignment of elements to scores converges to some $\pi(i)$. 

So, we have

$$p_{t}(i) = \P(X_{t}=i) \text{ and } p_{0}= (p_{i}) \in \mathbb{R}_{+}^n \text{ is an abitrary distribution on [n].}$$
then
$$ p_{t+1}^{T} = p_{t}^{T}P $$ and $$ \pi = \lim_{t\rightarrow \infty} p_{t} $$  

$\pi$ can also be computed by taking the top left eigenvector of $P$. 

For our work, we will simply compute the $P$ matrix and then take its top left eigenvector which will denote the ranking of courses.


\section{Numerical experiments on synthetic data}  \label{sec:NumExpSyn}
Present here the numerical results you obtain on a synthetically generated data set...

\section{Numerical experiments on real data}   \label{sec:NumExpReal}
Present here the numerical results you obtain on a real data set...

\section{Summary and conclusion}  \label{sec:conclusion}
Summarize your work in this section.

\bibliographystyle{siam}
\bibliography{project_math191}

\end{pagewiselinenumbers}

\end{document}
